<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dias de descanso</title>

    <style>
        body {
    font-family: Arial, sans-serif;
}
#calendar {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
}
#calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px;
    background-color: #333;
    color: #fff;
}

#days {
    display: flex;
    /* justify-content: space-between; */
    justify-content: space-around;
    padding: 10px;
    background: #333;
    color: #fff;

    div {
        text-align: center;
    }
}

#calendar-body {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 1px;
    background: #333;

    div {
        padding: 20px;
        background: #fff;
        text-align: center;
    }

    div.today {
        background: #f00;
        color: #fff;
    }
}

.change-month {
    cursor: pointer;
}

    </style>
</head>
<body>
    <h1>Dias de descanso</h1>
    <div id="calendar">
        <div id="calendar-header">
            <span id="month-prev" class="change-month">&lt;</span>
            <h2 id="month"></h2>
            <span id="month-next" class="change-month">&gt;</span>
        </div>
        <div id="days"></div>
        <div id="calendar-body">
           
        </div>
    </div>

    <script>
        let date = new Date();

        function renderCalendar() {
            date.setDate(1);

            const monthDays = document.getElementById('calendar-body');
            const month = document.getElementById('month');
            const daysElement = document.getElementById('days');

            const lastDay = new Date(
                date.getFullYear(),
                date.getMonth() + 1,
                0
            ).getDate();

            const prevLastDay = new Date(
                date.getFullYear(),
                date.getMonth(),
                0
            ).getDate();

            const firstDayIndex = date.getDay();

            const lastDayIndex = new Date(
                date.getFullYear(),
                date.getMonth() + 1,
                0
            ).getDay();


            const nextDays = 7 - lastDayIndex - 1;

            // const months = [
            //     'January',
            //     'February',
            //     'March',
            //     'April',
            //     'May',
            //     'June',
            //     'July',
            //     'August',
            //     'September',
            //     'Octuber',
            //     'November',
            //     'Dicember'
            // ];

            const months = [
                'Enero',
                'Febrero',
                'Marzo',
                'Abril',
                'Mayo',
                'Junio',
                'Julio',
                'Agosto',
                'Septiembre',
                'Octubre',
                'Noviembre',
                'Diciembre'
            ];

            // const days = [
            //     'S',
            //     'M',
            //     'T',
            //     'W',
            //     'T',
            //     'F',
            //     'S'
            // ];

            const days = [
                'DOM',
                'LUN',
                'MAR',
                'MIE',
                'JUE',
                'VIE',
                'SAB'
            ];

            month.innerText = `${months[date.getMonth()]} ${date.getFullYear()}`;
            daysElement.innerHTML = days.map(day => `<div>${day}</div>`).join('');

            let dates = '';

            for (let x = firstDayIndex; x > 0; x--) {
                dates += `<div class='prev-date'>${prevLastDay - x +1}</div>`;
            }

            for (let i = 1; i <= lastDay; i++) {
                if (
                    i === new Date().getDate() &&
                    date.getMonth() === new Date().getMonth() &&
                    date.getFullYear() === new Date().getFullYear()
                ){
                    dates += `<div class="today">${i}</div>`;
                }else {
                    dates += `<div>${i}</div>`
                }

            }

            for (let j = 1; j <= nextDays; j++) {
                dates += `<div class="next-date">${j}</div>`;
            }

            monthDays.innerHTML = dates;
        }

        document.getElementById('month-prev').addEventListener('click', () => {
            document.getElementById('calendar-body').classList.add('fade-out');
            setTimeout(() => {
                date.setMonth(date.getMonth() - 1);
                renderCalendar();
                document.getElementById('calendar-body').classList.remove('fade-out');
            }, 500);

        });

        document.getElementById('month-next').addEventListener('click', () => {
            document.getElementById('calendar-body').classList.add('fade-out');
            setTimeout(() => {
                date.setMonth(date.getMonth() + 1);
                renderCalendar();
                document.getElementById('calendar-body').classList.remove('fade-out');
            }, 500);
        });

        renderCalendar();
    </script>
</body>
</html>